hs.ssh2 = load.shp("./data", "hs.ssh2.shapefile")
hs.reporting = load.shp("./data", "hs.reporting.shapefile")
saveRDS(hs.ssh,'./data/hs.ssh.rds')
saveRDS(hs.ssh2,'./data/hs.ssh2.rds')
hs.ssh2 <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/hs.ssh2.rds")
saveRDS(hs.reporting,'./data/hs.reporting.rds')
library(sandwich)
devtools::check(manual=TRUE)
devtools::check(manual=TRUE)
library(sandwich)
devtools::build_manual()
roxygen2::roxygenise()
devtools::build_manual()
devtools::load_all(".")
library(sandwich)
roxygen2::roxygenise()
roxygen2::roxygenise()
devtools::load_all(".")
sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population")
devtools::load_all(".")
sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population")
install.packages("foreach")
devtools::load_all(".")
sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population")
devtools::load_all(".")
sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population")
sandwich.model(hs.sampling, hs.ssh, hs.reporting, "Population")
devtools::load_all(".")
sandwich.model(hs.sampling, hs.ssh, hs.reporting, "Population")
sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population")
devtools::load_all(".")
sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population")
library(caret)
install.packages("caret")
library(caret)
?createFolds
devtools::load_all(".")
sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population")
folds = sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population")
data(oil)
createDataPartition(oilType, 2)
oilType
devtools::load_all(".")
folds = sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population")
folds[1]
folds[2:9]
folds[,-1]
folds[-3]
split_up <- lapply(folds, function(ind, dat) dat[ind,], dat = hs.sampling)
split_up[1]
a=c(split_up[-2])
sandwich.cv(a, hs.ssh, hs.reporting, "Population")
class(split_up)
a=rbind(split_up[-2])
class(a)
as.frame(a)
as.data.frame(a)
a=as.data.frame(a)
a=split_up[-2]
a[1]
devtools::load_all(".")
sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population")
devtools::load_all(".")
sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population")
devtools::load_all(".")
sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population")
b=a[1]
b=as.data.frame(b)
c=as.data.frame(a[2])
d=rbind(b,c)
class(a[1])
devtools::load_all(".")
sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
warnings()
devtools::load_all(".")
sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
devtools::load_all(".")
sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
a=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
class(a)
class(1:6)
devtools::load_all(".")
sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
unlist(folds(a))
unlist(a)
b = unlist(a)
b=unlist(folds[-2])
b
devtools::load_all(".")
sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=1)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=1)
folds[i]
folds[1]
unlist(folds[-1]
)
unique(unlist(folds[-1]))
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=1)
hs.reporting <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/hs.reporting.rds")
hs.ssh <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/hs.ssh.rds")
hs.sampling <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/hs.sampling.rds")
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=1)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=1)
hs.sampling$index = 1:nrow(hs.sampling)
folds = createFolds(hs.sampling$index, k=10)
folds[1]
class(folds[1])
unique(unlist(folds[-1])
)
class(unique(unlist(folds[-i])))
class(unique(unlist(folds[-1])))
unique(unlist(folds[-1]))
list(unique(unlist(folds[-1]))))
list(unique(unlist(folds[-1])))
class(list(unique(unlist(folds[-1]))))
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
class(dev)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
class(dev)
st_as_sf(dev)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
class(dev)
sandwich.model(dev, hs.ssh, hs.reporting, "Population")
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
sampling.attr="Population"
rmse(dev[sampling.attr], dev$mean)
mean((dev[sampling.attr] - dev$mean)^2)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
dev
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
library(sandwich)
names(dev)[names(dev) == "mean"] <- "sepal_length"
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
colnames(folds)[1]
colnames(folds)[5]
names(folds)[5]
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
library(sandwich)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dif=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
list(dif)
devtools::load_all(".")
rmse=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
list(dif)^2
dif2= list(dif)
dif2= list(dif[1])
dif2= list(dif$Fold05.Population)
dif^2
devtools::load_all(".")
dif=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dif=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dif=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dif=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
dif2= list(dif$Fold05.Population)
dif2= list(dif$Fold05.Population)
class9list
class(dif)
devtools::load_all(".")
dif=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=1)
View(dif2)
devtools::load_all(".")
dif=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=1)
dif=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
new.attr.name = paste(names(folds)[5], "Population", sep=".")
dif2=dif[new.attr.name]
devtools::load_all(".")
dif=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
new.attr.name = paste(names(folds)[5], "Population", sep=".")
dif2=dif[new.attr.name]
dif2=dif[1]
list(dif2)
dif3=list(dif2)
dif3=list(dif2$Fold5.Population)
mean(dif3^2)
dif3^2
dif3=as.list(dif2)
dif3=as.list(dif2[1])
dif3=as.list(dif2$Fold5.Population)
dif3=as.list(dif2[new.attr.name])
dif3=as.list(dif2[0])
dif3=as.list(dif2[1])
devtools::load_all(".")
dif=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=1)
dif=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
folds[5]
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
There were 25 warnings (use warnings() to see them)
new.attr.name = "Fold5.Population"
dif2=list(dif[new.attr.name])
devtools::load_all(".")
dev=sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population",k=5)
devtools::load_all(".")
dif2=list(dev[new.attr.name])
dif2=list(dev$"Fold5.Population")
dif2=list(dev$Fold5.Population)
dif2=list(dev[new.attr.name])
dif^2
dev$Fold5.Population
View(dev)
hs.reporting <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/hs.reporting.rds")
hs.sampling <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/hs.sampling.rds")
hs.ssh <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/hs.ssh.rds")
devtools::load_all(".")
sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population", k=5)
out = sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population", k=5)
devtools::load_all(".")
out = sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population", k=5)
out2=out$Fold5.Population
new.attr.name="Fold5.Population"
out3=dif[[new.attr.name]]
out3=out[[new.attr.name]]
devtools::load_all(".")
out = sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population", k=5)
devtools::load_all(".")
mse = sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population", k=5)
devtools::load_all(".")
= sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population", k=5)
mse = sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population", k=5)
devtools::load_all(".")
devtools::load_all(".")
rmse = sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population", k=5)
roxygen2::roxygenise()
devtools::build_manual()
roxygen2::roxygenise()
devtools::build_manual()
roxygen2::roxygenise()
devtools::build_manual()
# knitr::opts_chunk$set(
#   collapse = TRUE,
#   comment = "#>"
# )
knitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE, fig.cap = " ", fig.path='figs/')
hs.cv = sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population", k=5)
hs.cv = sandwich.cv(hs.sampling, hs.ssh, hs.reporting, "Population", k=5)
hs.cv
library(sandwich)
roxygen2::roxygenise()
devtools::build_manual()
roxygen2::roxygenise()
devtools::build_manual()
devtools::build_manual()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
library("sandwich")
jl.sampling = load.shp("./data", "jl.sampling.shapefile")
?hs
ggplot(data=jl.sampling) + geom_sf(aes(color=Jiashu))
summary(ji.sampling$Jiashu)
ggplot(data=jl.sampling) + geom_sf(aes(color=Jiashu))
> summary(jl.sampling$Jiashu)
summary(jl.sampling$Jiashu)
summary(jl.sampling$Shushu)
library(tidyverse)
write_rds(jl.sampling, path = file.path("./data", "jl.sampling.rds"))
data(jl.sampling)
jl.sampling <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/jl.sampling.rds")
jl.sampling <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/jl.sampling.rds")
jl.ssh = load.shp("./data", "jl.ssh.shapefile")
library(sandwich)
jl.ssh = load.shp("./data", "jl.ssh.shapefile")
write_rds(jl.ssh, path = file.path("./data", "jl.ssh.rds"))
jl.ssh <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/jl.ssh.rds")
jl.reporting = load.shp("./data", "jl.reporting.shapefile")
write_rds(jl.reporting, path = file.path("./data", "jl.reporting.rds"))
jl.ssh = load.shp("./data", "jl.ssh.shapefile")
write_rds(jl.ssh, path = file.path("./data", "jl.ssh.rds"))
jl.ssh2 = load.shp("./data", "jl.ssh2.shapefile")
write_rds(jl.ssh2, path = file.path("./data", "jl.ssh2.rds"))
hs.reporting <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/hs.reporting.rds")
hs.sampling <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/hs.sampling.rds")
hs.ssh <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/hs.ssh.rds")
hs.ssh2 <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/hs.ssh2.rds")
jl.reporting <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/jl.reporting.rds")
jl.sampling <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/jl.sampling.rds")
jl.ssh2 <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/jl.ssh2.rds")
jl.ssh <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/jl.ssh.rds")
library(sandwich)
remove.packages("rsandwich", lib="~/R/win-library/4.0")
jl.join = geodetector.data(jl.sampling, jl.ssh, "trCode")
jl.join = geodetector.data(jl.join, jl.ssh2, "trCode_2")
geodetector.factor(jl.join, "Shushu", c("trCode", "trCode_2"))
geodetector.interaction(jl.join, "Shushu", c("trCode", "trCode_2"))
jl.sw = sandwich.model(jl.sampling, jl.ssh2, jl.reporting, "Shushu")
devtools::load_all(".")
install.packages("lwgeom")
devtools::load_all(".")
jl.sw = sandwich.model(jl.sampling, jl.ssh2, jl.reporting, "Shushu")
plot.mean(jl.sw)
plot.se(jl.sw)
jl.sw = sandwich.model(jl.sampling, jl.ssh, jl.reporting, "Shushu")
ggplot(data=jl.ssh2) + geom_sf(aes(fill=trCode_2)) + labs(fill='Strata 2')
ggplot(data=jl.ssh) + geom_sf(aes(fill=trCode)) + labs(fill='Strata 1')
ggplot(data=jl.reporting) + geom_sf(aes(fill=OBJECTID)) + labs(fill='r')
View(jl.sw)
devtools::load_all(".")
sandwich.model(jl.sampling, jl.ssh, jl.reporting, "Shushu")
jl.sandwich.model(jl.sampling, jl.ssh, jl.reporting, "Shushu")
jl.sw = sandwich.model(jl.sampling, jl.ssh, jl.reporting, "Shushu")
plot.mean(jl.sw)
devtools::load_all(".")
jl.sw = sandwich.model(jl.sampling, jl.ssh, jl.reporting, "Shushu")
View(jl.sw)
devtools::load_all(".")
jl.sw = sandwich.model(jl.sampling, jl.ssh, jl.reporting, "Shushu")
devtools::load_all(".")
jl.sw = sandwich.model(jl.sampling, jl.ssh, jl.reporting, "Shushu")
devtools::load_all(".")
jl.sw = sandwich.model(jl.sampling, jl.ssh, jl.reporting, "Shushu")
devtools::load_all(".")
jl.sw = sandwich.model(jl.sampling, jl.ssh, jl.reporting, "Shushu")
plot.mean(jl.se)
plot.mean(jl.sw)
plot.se(jl.sw)
plot.mean(jl.sw)
plot.se(jl.sw)
View(jl.sw)
jl.sw2 = sandwich.model(jl.sampling, jl.ssh2, jl.reporting, "Shushu")
plot.mean(jl.sw2)
View(jl.sw)
View(jl.sw2)
plot.mean(jl.sw2)
plot.se(jl.sw2)
devtools::load_all(".")
roxygen2::roxygenise()
devtools::build_manual()
devtools::build_vignettes()
roxygen2::roxygenise()
devtools::build_manual()
roxygen2::roxygenise()
devtools::build_manual()
jl.reporting <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/jl.reporting.rds")
jl.sampling <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/jl.sampling.rds")
jl.ssh <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/jl.ssh.rds")
jl.ssh2 <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/jl.ssh2.rds")
citation()
devtools::load_all(".")
sandwich.model(jl.samling, jl.ssh2, jl.reporting, "Shushu")
jl.sw = sandwich.model(jl.sampling, jl.ssh2, jl.reporting, "Shushu")
devtools::load_all(".")
jl.sw = sandwich.model(jl.sampling, jl.ssh2, jl.reporting, "Shushu")
devtools::load_all(".")
jl.sw = sandwich.model(jl.sampling, jl.ssh2, jl.reporting, "Shushu")
devtools::load_all(".")
warnings()
devtools::load_all(".")
jl.sw = sandwich.model(jl.sampling, jl.ssh2, jl.reporting, "Shushu")
plot.mean(hs.sw)
plot.mean(jl.sw)
plot.se(jl.sw)
hs.jl.con = sandwich.confint(jl.sw, level=.95)
plot.ci(hs.jl.con)
jl.cv = sandwich.cv(jl.sampling, jl.ssh, jl.reporting, "Shushu", k=5)
devtools::load_all(".")
jl.cv = sandwich.cv(jl.sampling, jl.ssh, jl.reporting, "Shushu", k=5)
devtools::load_all(".")
jl.cv = sandwich.cv(jl.sampling, jl.ssh, jl.reporting, "Shushu", k=5)
data(hs.sampling)
devtools::load_all(".")
library(sandwuch)
library(sandwich)
data(hs.sampling)
hs.reporting <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/hs.reporting.rds")
hs.reporting = readRDS(hs.reporting.rds)
hs.reporting = readRDS("hs.reporting.rds")
library(sandwich)
data(hs.sampling)
hs.ssh <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/hs.ssh.rds")
load(hs.ssh)
load(hs.ssh.rds)
library(sandwich)
?hs
devtools::use_data(hs.ssh)
save(hs.ssh, file="data/hs.ssh.RData")
data(hs.ssh)
save(hs.sampling, file="data/hs.sampling.RData")
hs.sampling <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/hs.sampling.rds")
hs.ssh2 <- readRDS("C:/Yue/OneDrive - The Ohio State University/research/CAS-IREIS/2019-05 Sandwich a novel software for spatial interpolation of spatially stratified heterogeneous populations/Sandwich/r/sandwich/data/hs.ssh2.rds")
save(hs.sampling, file="data/hs.sampling.RData")
save(hs.ssh2, file="data/hs.ssh2.RData")
save(hs.reporting, file="data/hs.reporting.RData")
data("hs.sampling")
ggplot(data=hs.sampling) + geom_sf(aes(color=Population))
ggplot(data=hs.ssh) + geom_sf(aes(fill=STR_1)) + labs(fill='SSH 1')
ggplot(data=hs.ssh2) + geom_sf(aes(fill=STR_2)) + labs(fill='SSH 2')
ggplot(data=hs.reporting) + geom_sf(aes(fill=CODE))
grid.arrange(p1, p2, p3, p4, nrow=2)
p1=ggplot(data=hs.sampling) + geom_sf(aes(color=Population))+ ggtitle("Sampling Layer")
p2=ggplot(data=hs.ssh) + geom_sf(aes(fill=STR_1)) + labs(fill="Code") + ggtitle("SSH Layer A")
p3=ggplot(data=hs.ssh2) + geom_sf(aes(fill=STR_2)) + labs(fill="Code") + ggtitle("SSH Layer A")
p4=ggplot(data=hs.reporting) + geom_sf(aes(fill=CODE)) + ggtitle("Reporting Layer")
grid.arrange(p1, p2, p3, p4, nrow=2)
p1=ggplot(data=hs.sampling) + geom_sf(aes(color=Population)) + ggtitle("Sampling Layer") + theme(plot.title=element_text(hjust=0.5))
p2=ggplot(data=hs.ssh) + geom_sf(aes(fill=STR_1)) + labs(fill="Code") + ggtitle("SSH Layer A") + theme(plot.title=element_text(hjust=0.5))
p3=ggplot(data=hs.ssh2) + geom_sf(aes(fill=STR_2)) + labs(fill="Code") + ggtitle("SSH Layer A") + theme(plot.title=element_text(hjust=0.5))
p4=ggplot(data=hs.reporting) + geom_sf(aes(fill=CODE)) + ggtitle("Reporting Layer") + theme(plot.title=element_text(hjust=0.5))
grid.arrange(p1, p2, p3, p4, nrow=2)
p3=ggplot(data=hs.ssh2) + geom_sf(aes(fill=STR_2)) + labs(fill="Code") + ggtitle("SSH Layer B") + theme(plot.title=element_text(hjust=0.5))
grid.arrange(p1, p2, p3, p4, nrow=2)
p4=ggplot(data=hs.reporting) + geom_sf(aes(fill=CODE)) + labs(fill="Code") + ggtitle("Reporting Layer") + theme(plot.title=element_text(hjust=0.5))
devtools::build_vignettes()
devtools::build_vignettes()
ggplot(data=hs.sampling) + geom_sf(aes(color=Population)) + ggtitle("Sampling Layer") + theme(plot.title=element_text(hjust=0.5))
ggplot(data=hs.reporting) + geom_sf(aes(fill=CODE)) + labs(fill="Code") + ggtitle("Reporting Layer") + theme(plot.title=element_text(hjust=0.5))
ggplot(data=hs.ssh2) + geom_sf(aes(fill=STR_2)) + labs(fill="Code") + ggtitle("SSH Layer B") + theme(plot.title=element_text(hjust=0.5))
ggplot(data=hs.reporting) + geom_sf(aes(fill=CODE)) + labs(fill="Code") + ggtitle("Reporting Layer") + theme(plot.title=element_text(hjust=0.5))
ggplot(data=hs.ssh) + geom_sf(aes(fill=STR_1)) + labs(fill="Code") + ggtitle("SSH Layer A") + theme(plot.title=element_text(hjust=0.5))
ggplot(data=hs.sampling) + geom_sf(aes(color=Population)) + ggtitle("Sampling Layer") + theme(plot.title=element_text(hjust=0.5))
devtools::build_vignettes()
ggplot(data=hs.sampling) + geom_sf(aes(color=Population)) +
labs(fill="Population\ndensity\(persons per\nsquare mile") +
ggtitle("Sampling Layer") + theme(plot.title=element_text(hjust=0.5))
# knitr::opts_chunk$set(
#   collapse = TRUE,
#   comment = "#>"
# )
knitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE, fig.cap = " ", fig.path='figs/')
hs.sampling = load.shp("./data", "hs.sampling.shapefile")
hs.ssh = load.shp("./data", "hs.ssh.shapefile")
# here's another candidate SSH layer
hs.ssh2 = load.shp("./data", "hs.ssh2.shapefile")
hs.reporting = load.shp("./data", "hs.reporting.shapefile")
# sampling layer
ggplot(data=hs.sampling) + geom_sf(aes(color=Population)) + labs(fill="Population\ndensity\n(persons per\nsquare mile)") + ggtitle("Sampling Layer") + theme(plot.title=element_text(hjust=0.5))
# SSH layer
ggplot(data=hs.ssh) + geom_sf(aes(fill=STR_1)) + labs(fill="Code") +
ggtitle("SSH Layer A") + theme(plot.title=element_text(hjust=0.5))
# another SSH layer
ggplot(data=hs.ssh2) + geom_sf(aes(fill=STR_2)) + labs(fill="Code") +
ggtitle("SSH Layer B") + theme(plot.title=element_text(hjust=0.5))
# reporting layer
ggplot(data=hs.reporting) + geom_sf(aes(fill=CODE)) + labs(fill="Code") +
ggtitle("Reporting Layer") + theme(plot.title=element_text(hjust=0.5))
ggplot(data=hs.sampling) + geom_sf(aes(color=Population)) +
labs(fill="Population\ndensity\n(persons per\nsquare mile)") +
ggtitle("Sampling Layer") + theme(plot.title=element_text(hjust=0.5))
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
hs.sw = sandwich.model(hs.sampling, hs.ssh, hs.reporting, "Population")
plot.mean(hs.sw)
plot.se(hs.sw)
library(sandwich)
hs.sw = sandwich.model(hs.sampling, hs.ssh, hs.reporting, "Population")
plot.mean(hs.sw)
devtools::load_all(".")
plot.mean(hs.sw)
plot.se(hs.sw)
hs.sw.con = sandwich.confint(object=hs.sw, level=.95)
plot.ci(hs.sw.con)
